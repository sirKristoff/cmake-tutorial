#include "allocator/small_obj_allocator.hpp"
#include "small_obj_allocator_impl.hpp"


////////////////////////////////////////////////////////////////////////////////
// SmallObjAllocator::SmallObjAllocator
////////////////////////////////////////////////////////////////////////////////

SmallObjAllocator::SmallObjAllocator(
    std::size_t chunkSize,
    std::size_t maxObjectSize)
: pImpl_(std::make_unique<SmallObjAllocator::Impl>(chunkSize, maxObjectSize))
{
}

////////////////////////////////////////////////////////////////////////////////
// SmallObjAllocator::allocate
////////////////////////////////////////////////////////////////////////////////

void* SmallObjAllocator::allocate(std::size_t size)
{
    return pImpl_->allocate(size);
}


////////////////////////////////////////////////////////////////////////////////
// SmallObjAllocator::deallocate
////////////////////////////////////////////////////////////////////////////////

void SmallObjAllocator::deallocate(void* p, std::size_t size)
{
    pImpl_->deallocate(p, size);
}
